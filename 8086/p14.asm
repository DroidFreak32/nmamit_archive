; Bubbly sort!
DATA SEGMENT
	A DB 34H,00H,45H,10H,32H
	LEN DB $-A
	NL DB 10,13,'$'
	MSG DB 10,13,'Sorted $',10,13
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE,DS:DATA
START:
	MOV AX,DATA
	MOV DS,AX
	MOV CL,00H
	MOV DL,LEN
	DEC DL
LOOP1:
	CMP CL,DL
	JZ DISPLAY
	MOV BX,0000H
	MOV DH,DL
	SUB DH,CL
LOOP2:
	CMP BL,DH
	JB IFCN
	INC CL
	JMP LOOP1
IFCN:
	MOV AL,A[BX]
	MOV AH,A[BX+1]
	CMP AL,AH
	JBE NOSWP
	MOV A[BX],AH
	MOV A[BX+1],AL
NOSWP:
	INC BX
	JMP LOOP2
DISPLAY:
	MOV BX,0000H
	LEA DX,MSG ;Display message
    MOV AH,09H
    INT 21H
BACK:
	MOV DL,A[BX]
	MOV CL,04H
	SHR DL,CL
	CMP DL,09H
	JBE L3
	ADD DL,07H
L3:
	ADD DL,30H
	MOV AH,02H
	INT 21H
	MOV DL,A[BX]
	AND DL,0FH
	CMP DL,09H
	JBE L4
	ADD DL,07H
L4:
	ADD DL,30H
	MOV AH,02H
	INT 21H
	LEA DX,NL
	MOV AH,09H
	INT 21H
	INC BX
	CMP BL,LEN
	JZ EXIT
	JMP BACK
EXIT:
	MOV AH,4CH
	INT 21H
CODE ENDS
END START

